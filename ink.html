<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0" name="viewport">
  <meta content="yes" name="apple-mobile-web-app-capable">
  <meta content="yes" name="apple-touch-fullscreen">
  <meta content="black" name="apple-mobile-web-app-status-bar-style">
  <meta content="320" name="MobileOptimized">
  <meta content="true" name="HandheldFriendly">
  <meta name="mobile-web-app-capable" content="yes">

  <title>ç™¾è‰çé…¿å­¦ä¹ è¯¾</title>

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      background: #000;
      color: #fff;
      overflow: hidden;
      position: fixed;
      width: 100%;
      height: 100%;
    }
    
    .container {
      width: 100px;
      height: 100px;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 10;
    }

    .dot {
      width: 15px;
      height: 15px;
      border-radius: 50%;
      background-color: #000;
      position: absolute;
      top: 0;
      bottom: 0;
      left: 0;
      right: 0;
      margin: auto;
    }

    .dot-3 {
      background-color: #f74d75;
      animation: dot-3-move 2s ease infinite;
    }

    @keyframes dot-3-move {
      20% { transform: scale(1) }
      45% { transform: translateY(-18px) scale(.45) }
      60% { transform: translateY(-25px) scale(.45) }
      80% { transform: translateY(-25px) scale(.45) }
      100% { transform: translateY(0px) scale(1) }
    }

    .dot-2 {
      background-color: #10beae;
      animation: dot-2-move 2s ease infinite;
    }

    .dot-1 {
      background-color: #ffe386;
      animation: dot-1-move 2s ease infinite;
    }

    @keyframes dot-2-move {
      20% { transform: scale(1) }
      45% { transform: translate(-16px, 12px) scale(.45) }
      60% { transform: translate(-20px, 15px) scale(.45) }
      80% { transform: translate(-20px, 15px) scale(.45) }
      100% { transform: translateY(0px) scale(1) }
    }

    @keyframes dot-1-move {
      20% { transform: scale(1) }
      45% { transform: translate(16px, 12px) scale(.45) }
      60% { transform: translate(20px, 15px) scale(.45) }
      80% { transform: translate(20px, 15px) scale(.45) }
      100% { transform: translateY(0px) scale(1) }
    }

    .container {
      animation: rotate-move 2s ease-in-out infinite;
    }

    @keyframes rotate-move {
      55% { transform: translate(-50%, -50%) rotate(0deg) }
      80% { transform: translate(-50%, -50%) rotate(360deg) }
      100% { transform: translate(-50%, -50%) rotate(360deg) }
    }
    
    .content {
      height: 100%;
      width: 100%;
      position: fixed;
      left: 0;
      top: 0;
      border: none;
      background: #000;
      -webkit-overflow-scrolling: touch;
      overflow: auto;
      z-index: 2;
      display: none;
    }
    
    /* å…¨å±æŒ‰é’®æ ·å¼ */
    .fullscreen-button {
      position: fixed;
      right: 15px;
      bottom: 15px;
      z-index: 9999;
      background: rgba(0, 0, 0, 0.7);
      color: white;
      border: 2px solid rgba(255, 255, 255, 0.5);
      border-radius: 50px;
      padding: 12px 20px;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      display: none;
      transition: all 0.3s ease;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }
    
    .fullscreen-button:hover {
      background: rgba(0, 0, 0, 0.9);
      transform: scale(1.05);
    }
    
    /* æ¨ªå±æç¤º */
    .landscape-tip {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.95);
      z-index: 10000;
      display: none;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      padding: 20px;
    }
    
    .landscape-tip h2 {
      font-size: 24px;
      margin-bottom: 20px;
      color: #ffe386;
    }
    
    .landscape-tip p {
      font-size: 18px;
      margin-bottom: 30px;
      max-width: 80%;
      line-height: 1.5;
    }
    
    .landscape-icon {
      font-size: 60px;
      margin-bottom: 30px;
      animation: rotate-icon 2s infinite ease-in-out;
    }
    
    @keyframes rotate-icon {
      0%, 100% { transform: rotate(0deg); }
      50% { transform: rotate(90deg); }
    }
    
    /* æ¨ªå±æ¨¡å¼ */
    .landscape-mode {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #000;
      z-index: 9998;
      display: none;
    }
    
    .landscape-mode iframe {
      position: absolute;
      top: 2.5%;
      left: 2.5%;
      width: 95%;
      height: 95%;
      transform: rotate(90deg) scale(0.95);
      transform-origin: center center;
      border: none;
    }
    
    /* é€€å‡ºå…¨å±æŒ‰é’® */
    .exit-fullscreen {
      position: fixed;
      top: 15px;
      right: 15px;
      z-index: 10001;
      background: rgba(0, 0, 0, 0.7);
      color: white;
      border: 2px solid rgba(255, 255, 255, 0.5);
      border-radius: 50%;
      width: 50px;
      height: 50px;
      display: none;
      justify-content: center;
      align-items: center;
      font-size: 24px;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .exit-fullscreen:hover {
      background: rgba(0, 0, 0, 0.9);
      transform: scale(1.1);
    }
    
    /* åŠ è½½æç¤º */
    .loading-text {
      position: fixed;
      top: 60%;
      left: 0;
      width: 100%;
      text-align: center;
      color: #fff;
      font-size: 16px;
      z-index: 11;
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="dot dot-1"></div>
    <div class="dot dot-2"></div>
    <div class="dot dot-3"></div>
  </div>
  <div class="loading-text">è§†é¢‘åŠ è½½ä¸­ï¼Œè¯·ç¨å€™...</div>
  
  <div class="content" id="videoContent"></div>
  <div class="landscape-tip" id="landscapeTip">
    <div class="landscape-icon">ğŸ“±</div>
    <h2>è¯·æ¨ªå±è§‚çœ‹</h2>
    <p>ä¸ºäº†è·å¾—æœ€ä½³è§‚çœ‹ä½“éªŒï¼Œè¯·å°†æ‰‹æœºæ—‹è½¬è‡³æ¨ªå±æ¨¡å¼</p>
    <p>è§†é¢‘å°†è‡ªåŠ¨æ’­æ”¾</p>
  </div>
  
  <div class="landscape-mode" id="landscapeMode"></div>
  
  <button class="fullscreen-button" id="fullscreenBtn">å…¨å±æ’­æ”¾</button>
  <button class="exit-fullscreen" id="exitFullscreenBtn">âœ•</button>

  <script>
    // è·å–URLå‚æ•°
    var urlParams = new URLSearchParams(window.location.search);
    var encodedParam = urlParams.get('c');
    var trueurl = encodedParam ? atob(encodedParam) : '';
    
    // è·å–DOMå…ƒç´ 
    var fullscreenBtn = document.getElementById('fullscreenBtn');
    var exitFullscreenBtn = document.getElementById('exitFullscreenBtn');
    var landscapeTip = document.getElementById('landscapeTip');
    var landscapeMode = document.getElementById('landscapeMode');
    var videoContent = document.getElementById('videoContent');
    var container = document.querySelector('.container');
    var loadingText = document.querySelector('.loading-text');
    
    var isLandscapeMode = false;
    
    if (trueurl && trueurl.includes("http")) {
      // éšè—åŠ è½½åŠ¨ç”»
      setTimeout(function() {
        container.style.display = "none";
        loadingText.style.display = "none";
      }, 1500);
      
      // åˆ›å»ºiframe
      var iframe = document.createElement('iframe');
      iframe.setAttribute('allowfullscreen', '');
      iframe.setAttribute('webkitallowfullscreen', '');
      iframe.setAttribute('mozallowfullscreen', '');
      iframe.setAttribute('allow', 'autoplay; fullscreen; accelerometer; gyroscope');
      iframe.setAttribute('scrolling', 'no');
      iframe.setAttribute('frameborder', '0');
      iframe.style.width = '100%';
      iframe.style.height = '100%';
      
      iframe.onload = function() {
        // æ˜¾ç¤ºå…¨å±æŒ‰é’®
        fullscreenBtn.style.display = 'block';
        
        // å°è¯•æ³¨å…¥æ ·å¼
        try {
          var style = document.createElement('style');
          style.textContent = `
            body *:not(video):not(iframe):not(object):not(embed) {
              display: none !important;
            }
            video, iframe, object, embed {
              position: fixed !important;
              top: 0 !important;
              left: 0 !important;
              width: 100% !important;
              height: 100% !important;
            }
            body, html {
              padding: 0 !important;
              margin: 0 !important;
              overflow: hidden !important;
              background: black !important;
            }
          `;
          iframe.contentDocument.head.appendChild(style);
        } catch(e) {
          console.log('æ ·å¼æ³¨å…¥å¤±è´¥:', e);
        }
      };
      
      iframe.src = trueurl;
      videoContent.appendChild(iframe);
      videoContent.style.display = 'block';
      
      console.log('è§†é¢‘URL:', trueurl);
      
      // æ·»åŠ äº‹ä»¶ç›‘å¬
      fullscreenBtn.addEventListener('click', enterFullscreen);
      exitFullscreenBtn.addEventListener('click', exitFullscreen);
      
      // ç›‘å¬å±å¹•æ–¹å‘å˜åŒ–
      function checkOrientation() {
        if (isLandscapeMode) {
          if (window.innerHeight > window.innerWidth) {
            // ç«–å±æ¨¡å¼
            landscapeTip.style.display = 'flex';
          } else {
            // æ¨ªå±æ¨¡å¼
            landscapeTip.style.display = 'none';
          }
        }
      }
      
      // åˆå§‹æ£€æŸ¥
      checkOrientation();
      
      // ç›‘å¬resizeäº‹ä»¶
      window.addEventListener('resize', checkOrientation);
      
    } else {
      console.log("æ— æ•ˆçš„URLå‚æ•°");
      container.style.display = "none";
      loadingText.textContent = "åŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥é“¾æ¥æ˜¯å¦æ­£ç¡®";
    }
    
    // è¿›å…¥å…¨å±æ¨¡å¼
    function enterFullscreen() {
      isLandscapeMode = true;
      landscapeMode.style.display = 'block';
      exitFullscreenBtn.style.display = 'flex';
      fullscreenBtn.style.display = 'none';
      
      // å¤åˆ¶iframeåˆ°æ¨ªå±æ¨¡å¼å®¹å™¨
      var iframe = videoContent.querySelector('iframe');
      if (iframe) {
        var clonedIframe = iframe.cloneNode(true);
        landscapeMode.innerHTML = '';
        landscapeMode.appendChild(clonedIframe);
      }
      
      // æ£€æŸ¥æ–¹å‘
      checkOrientation();
      
      // å°è¯•é”å®šæ¨ªå±
      if (screen.orientation && screen.orientation.lock) {
        screen.orientation.lock('landscape').catch(function(error) {
          console.log('é”å®šæ¨ªå±å¤±è´¥:', error);
        });
      }
    }
    
    // é€€å‡ºå…¨å±æ¨¡å¼
    function exitFullscreen() {
      isLandscapeMode = false;
      landscapeMode.style.display = 'none';
      landscapeTip.style.display = 'none';
      exitFullscreenBtn.style.display = 'none';
      fullscreenBtn.style.display = 'block';
      
      // å°è¯•è§£é”å±å¹•æ–¹å‘
      if (screen.orientation && screen.orientation.unlock) {
        screen.orientation.unlock();
      }
    }
  </script>
</body>
</html>
